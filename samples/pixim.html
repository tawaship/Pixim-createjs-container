<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no, minimal-ui">
		<script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
		<script src="../lib/pixi.5.3.2.min.js"></script>
		<script src="../lib/Pixim.min.js"></script>
		<script src="../dist/Pixim-createjs-container.js"></script>
		<script src="game/game.js"></script>
		<link rel="stylesheet" href="../style.css" />
	</head>
	<body>
		<script>
			Pixim.createjs.prepareAsync('2FA8E0C7230941478CE2CA3DB82DBEDF', 'game/')
				.then(function(lib) {
					const pRatio = window.devicePixelRatio || 1;
					const app = new Pixim.Application({
						width: 450,
						height: 800,
						antialias: true,
						resolution: pRatio,
						backgroundColor: parseInt(lib.properties.color.slice(1), 16)
					});
					
					const Game = Pixim.Content.create();
					
					Game.setConfig({
						width: 450,
						height: 800
					});
					
					Game.defineLibraries({
						root: class Root extends PIXI.Container {
							constructor($) {
								super();
								
								this.x = 10;
								this.y = 10;
								
								const container = this.addChild(new Pixim.createjs.Container());
								
								container.addChild(new PIXI.Text('Library A'));
								const a = container.addCreatejs(new $.vars.lib.A());
								a.y = 100;
								
								container.addChild(new PIXI.Text('Library B')).y = 200;
								const b = container.addCreatejs(new $.vars.lib.B());
								b.y = 300;
								
								container.addChild(new PIXI.Text('Library C')).y = 400;
								const c = container.addCreatejs(new $.vars.lib.C());
								c.y = 500;
							}
						}
					});
					
					const game = new Game();
					game.addVars({
						lib: lib
					});
					
					app
						.fullScreen()
						.attachAsync(game)
						.then(function() {
							app.play();
						});
				});
		</script>
	</div>
	</body>
</html>