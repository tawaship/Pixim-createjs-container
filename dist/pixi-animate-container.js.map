{"version":3,"file":"pixi-animate-container.js","sources":["../node_modules/@tawaship/pixi-animate-core/dist/pixi-animate-core.esm.js","../src/createjs/MovieClip.ts","../src/pixi/Container.ts","../src/pixi/funcs.ts","../src/pixi/index.ts"],"sourcesContent":["/*!\n * @tawaship/pixi-animate-core - v2.0.2\n * \n * @require pixi.js v5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\nimport { Container, Sprite, BaseTexture, Texture, Graphics, LINE_CAP, LINE_JOIN, Text } from 'pixi.js';\n\nfunction createOriginParams() {\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        scaleX: 0,\r\n        scaleY: 0,\r\n        regx: 0,\r\n        regy: 0,\r\n        skewX: 0,\r\n        skewY: 0,\r\n        rotation: 0,\r\n        visible: true,\r\n        alpha: 1,\r\n        _off: false,\r\n        mask: null,\r\n        filters: null\r\n    };\r\n}\r\nfunction createPixiData(regObj) {\r\n    return {\r\n        regObj,\r\n        events: {}\r\n    };\r\n}\r\nfunction updateDisplayObjectChildren(self, e) {\r\n    const list = self.children.slice();\r\n    for (let i = 0, l = list.length; i < l; i++) {\r\n        const child = list[i];\r\n        if (!child.isVisible()) {\r\n            continue;\r\n        }\r\n        //child.draw();\r\n        child.updateForPixi(e);\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/Stage.html\r\n */\r\nclass CreatejsStage extends window.createjs.Stage {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n    }\r\n}\n\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/StageGL.html\r\n */\r\nclass CreatejsStageGL extends window.createjs.StageGL {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n    }\r\n}\n\n/**\r\n * @ignore\r\n */\r\nlet _isDown = false;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst EventMap = {\r\n\tmousedown: {\r\n\t\ttypes: ['pointerdown'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget.createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target.createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\t/*\r\n\tmouseup: {\r\n\t\ttypes: ['pointerup'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget.createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target.createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\t*/\r\n\trollover: {\r\n\t\ttypes: ['pointerover'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget.createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.currentTarget.createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\trollout: {\r\n\t\ttypes: ['pointerout'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\te.currentTarget = e.currentTarget.createjs;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.currentTarget.createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = true;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tpressmove:{\r\n\t\ttypes: ['pointermove'],\r\n\t\tfactory:  function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\tif (!_isDown) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\te.currentTarget = self;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target && e.target.createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\tpressup: {\r\n\t\ttypes: ['pointerup', 'pointeupoutside'],\r\n\t\tfactory: function(self, cb) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\tif (!_isDown) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\te.currentTarget = self;\r\n\t\t\t\t\r\n\t\t\t\t_isDown = false;\r\n\t\t\t\t\r\n\t\t\t\te.target = e.target && e.target.createjs;\r\n\t\t\t\tconst ev = e.data;\r\n\t\t\t\te.rawX = ev.global.x;\r\n\t\t\t\te.rawY = ev.global.y;\r\n\t\t\t\t\r\n\t\t\t\tcb(e);\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst appendixDescriptor = {\r\n\tx: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.x;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.x = value;\r\n\t\t\treturn this._originParams.x = value;\r\n\t\t}\r\n\t},\r\n\ty: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.y;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.y = value;\r\n\t\t\treturn this._originParams.y = value;\r\n\t\t}\r\n\t},\r\n\tscaleX: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.scaleX;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.scale.x = value;\r\n\t\t\treturn this._originParams.scaleX = value;\r\n\t\t}\r\n\t},\r\n\tscaleY: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.scaleY;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.scale.y = value;\r\n\t\t\treturn this._originParams.scaleY = value;\r\n\t\t}\r\n\t},\r\n\tskewX: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.skewX;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n\t\t\treturn this._originParams.skewX = value;\r\n\t\t}\r\n\t},\r\n\tskewY: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.skewY;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n\t\t\treturn this._originParams.skewY = value;\r\n\t\t}\r\n\t\r\n\t},\r\n\tregX: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.regX;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.regObj.x = value;\r\n\t\t\treturn this._originParams.regX = value;\r\n\t\t}\r\n\t},\r\n\tregY: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.regY;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.regObj.y = value;\r\n\t\t\treturn this._originParams.regY = value;\r\n\t\t}\r\n\t},\r\n\trotation: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.rotation;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n\t\t\treturn this._originParams.rotation = value;\r\n\t\t}\r\n\t},\r\n\tvisible: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.visible;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tvalue = !!value;\r\n\t\t\tthis._pixiData.instance.visible = value;\r\n\t\t\treturn this._originParams.visible = value;\r\n\t\t}\r\n\t},\r\n\talpha: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.alpha;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.alpha = value;\r\n\t\t\treturn this._originParams.alpha = value;\r\n\t\t}\r\n\t},\r\n\t_off: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams._off;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tthis._pixiData.instance.renderable = !value;\r\n\t\t\treturn this._originParams._off = value;\r\n\t\t}\r\n\t},\r\n\t/*\r\n\tdispatchEvent: {\r\n\t\tvalue: function(eventObj, bubbles, cancelable) {\r\n\t\t\tvar type = eventObj typeof 'string' ? eventObj : eventObj.type;\r\n\t\t\t\r\n\t\t\tthis._pixiData.instance.emit(type, eventObj);\r\n\t\t\t\r\n\t\t\treturn window.createjs.DisplayObject.prototype.dispatchEvent.apply(this, arguments);\r\n\t\t}\r\n\t},\r\n\t*/\r\n\taddEventListener: {\r\n\t\tvalue: function(type, cb) {\r\n\t\t\tif (!(cb instanceof Function)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (type in EventMap) {\r\n\t\t\t\tconst ev = EventMap[type];\r\n\t\t\t\t\r\n\t\t\t\tconst func = ev.factory(this, cb);\r\n\t\t\t\t\r\n\t\t\t\tconst types = ev.types;\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < types.length; i++) {\r\n\t\t\t\t\tconst t = types[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._pixiData.events[t] = this._pixiData.events[t] || [];\r\n\t\t\t\t\tthis._pixiData.events[t].push({ func: func, origin: cb });\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis._pixiData.instance.on(t, func);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.instance.interactive = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn window.createjs.DisplayObject.prototype.addEventListener.apply(this, arguments);\r\n\t\t}\r\n\t},\r\n\tremoveEventListener: {\r\n\t\tvalue: function(type, cb) {\r\n\t\t\tif (type in EventMap) {\r\n\t\t\t\tconst ev = EventMap[type];\r\n\t\t\t\t\r\n\t\t\t\tconst types = ev.types;\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < types.length; i++) {\r\n\t\t\t\t\tconst t = types[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst list = this._pixiData.events[t];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (list) {\r\n\t\t\t\t\t\tfor (var j = list.length - 1; j >= 0; j--) {\r\n\t\t\t\t\t\t\tif (list[j].origin === cb) {\r\n\t\t\t\t\t\t\t\tthis._pixiData.instance.off(t, list[j].func);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tlist.splice(j, 1);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (list.length === 0) {\r\n\t\t\t\t\t\t\tdelete(this._pixiData.events[t]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst res = window.createjs.DisplayObject.prototype.removeEventListener.apply(this, arguments);\r\n\t\t\t\r\n\t\t\tconst listeners = this._listeners;\r\n\t\t\tif (!listeners) {\r\n\t\t\t\treturn res;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (let i in EventMap) {\r\n\t\t\t\tif (!listeners[i]) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (listeners[i].length > 0) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn res;\r\n\t\t}\r\n\t},\r\n\tremoveAllEventListeners: {\r\n\t\tvalue: function(type) {\r\n\t\t\tthis._pixiData.instance.removeAllListeners(type);\r\n\t\t\tthis._pixi.instance.interactive = false;\r\n\t\t\tthis._pixiData.events = {};\r\n\t\t\t\r\n\t\t\treturn window.createjs.DisplayObject.prototype.removeAllEventListeners.apply(this, arguments);\r\n\t\t}\r\n\t},\r\n\tmask: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.mask;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tif (value) {\r\n\t\t\t\tvalue._pixiData.masked.push(this._pixiData.instance);\r\n\t\t\t\tthis._pixiData.instance.mask = value._pixiData.instance;\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.instance.once('added', function() {\r\n\t\t\t\t\tthis.parent.addChild(value._pixiData.instance);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis._pixiData.instance.mask = null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this._originParams.mask = value;\r\n\t\t}\r\n\t},\r\n\tfilters: {\r\n\t\tget: function() {\r\n\t\t\treturn this._originParams.filters;\r\n\t\t},\r\n\t\t\r\n\t\tset: function(value) {\r\n\t\t\tif (this._pixiData.subInstance) {\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tconst list = [];\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\t\t\tconst f = value[i];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (f instanceof createjs.ColorMatrixFilter) {\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst m = new PIXI.filters.ColorMatrixFilter();\r\n\t\t\t\t\t\tm.matrix = [\r\n\t\t\t\t\t\t\tf.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n\t\t\t\t\t\t\t0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n\t\t\t\t\t\t\t0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n\t\t\t\t\t\t\t0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n\t\t\t\t\t\t\t0, 0, 0, 0, 1\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\tlist.push(m);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar o = this._pixiData.instance;\r\n\t\t\t\t\tvar c = o.children;\r\n\t\t\t\t\tvar n = new PIXI.Container();\r\n\t\t\t\t\tvar nc = this._pixiData.subInstance = n.addChild(new PIXI.Container());\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile (c.length) {\r\n\t\t\t\t\t\tnc.addChild(c[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\to.addChild(n);\r\n\t\t\t\t\to._filterContainer = nc;\r\n\t\t\t\t\t\r\n\t\t\t\t\tnc.updateTransform();\r\n\t\t\t\t\tnc.calculateBounds();\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst b = nc.getLocalBounds();\r\n\t\t\t\t\tconst x = b.x;\r\n\t\t\t\t\tconst y = b.y;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < nc.children.length; i++) {\r\n\t\t\t\t\t\tnc.children[i].x -= x;\r\n\t\t\t\t\t\tnc.children[i].y -= y;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (nc.children[i]._filterContainer) {\r\n\t\t\t\t\t\t\tnc.children[i]._filterContainer.cacheAsBitmap = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tn.x = x;\r\n\t\t\t\t\tn.y = y;\r\n\t\t\t\t\t\r\n\t\t\t\t\tnc.filters = list;\r\n\t\t\t\t\tnc.cacheAsBitmap = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst o = this._pixiData.instance;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (o._filterContainer) {\r\n\t\t\t\t\t\tconst nc = this._pixiData.subInstance;\r\n\t\t\t\t\t\tconst n = nc.parent;\r\n\t\t\t\t\t\tconst c = nc.children;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\to.removeChildren();\r\n\t\t\t\t\t\to._filterContainer = null;\r\n\t\t\t\t\t\twhile (c.length) {\r\n\t\t\t\t\t\t\tconst v = o.addChild(c[0]);\r\n\t\t\t\t\t\t\tv.x += n.x;\r\n\t\t\t\t\t\t\tv.y += n.y;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnc.filters = null;\r\n\t\t\t\t\t\tnc.cacheAsBitmap = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._pixiData.subInstance = o;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this._originParams.filters = value;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction appendDisplayObjectDescriptor(cls) {\r\n\tObject.defineProperties(cls.prototype, appendixDescriptor);\r\n}\n\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Container.html\r\n */\r\nclass PixiMovieClip extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createMovieClipPixiData(cjs) {\r\n    const pixi = new PixiMovieClip(cjs);\r\n    return Object.assign(createPixiData(pixi.pivot), {\r\n        instance: pixi,\r\n        subInstance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst CreatejsMovieClipTemp = window.createjs.MovieClip;\r\n/**\r\n * @ignore\r\n */\r\nlet _funcFlag = true;\r\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/MovieClip.html\r\n */\r\nclass CreatejsMovieClip extends window.createjs.MovieClip {\r\n    constructor(...args) {\r\n        super();\r\n        this._initForPixi();\r\n        CreatejsMovieClipTemp.apply(this, arguments);\r\n    }\r\n    /**\r\n     * @since 1.1.0\r\n     */\r\n    _initForPixi() {\r\n        this._originParams = createOriginParams();\r\n        this._pixiData = createMovieClipPixiData(this);\r\n        if (!_funcFlag) {\r\n            this.updateForPixi = this._updateForPixiUnsynched;\r\n        }\r\n        else {\r\n            this.updateForPixi = this._updateForPixiSynched;\r\n        }\r\n    }\r\n    initialize(...args) {\r\n        this._initForPixi();\r\n        return super.initialize(...arguments);\r\n    }\r\n    addChild(child) {\r\n        this._pixiData.subInstance.addChild(child._pixiData.instance);\r\n        return super.addChild(child);\r\n    }\r\n    addChildAt(child, index) {\r\n        this._pixiData.subInstance.addChildAt(child._pixiData.instance, index);\r\n        return super.addChildAt(child, index);\r\n    }\r\n    removeChild(child) {\r\n        this._pixiData.subInstance.removeChild(child._pixiData.instance);\r\n        return super.removeChild(child);\r\n    }\r\n    removeChildAt(index) {\r\n        this._pixiData.subInstance.removeChildAt(index);\r\n        return super.removeChildAt(index);\r\n    }\r\n    removeAllChldren() {\r\n        this._pixiData.subInstance.removeChildren();\r\n        return super.removeAllChldren();\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    static selectUpdateFunc(flag) {\r\n        _funcFlag = flag;\r\n    }\r\n    _updateForPixiSynched(e) {\r\n        this._updateState();\r\n        return updateDisplayObjectChildren(this, e);\r\n    }\r\n    _updateForPixiUnsynched(e) {\r\n        return this._tick(e);\r\n    }\r\n}\r\nappendDisplayObjectDescriptor(CreatejsMovieClip);\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n    _originParams: {\r\n        value: createOriginParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createMovieClipPixiData({}),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Sprite.html\r\n */\r\nclass PixiSprite extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createSpritePixiData(cjs) {\r\n    const pixi = new PixiSprite(cjs);\r\n    return Object.assign(createPixiData(pixi.anchor), {\r\n        instance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst CreatejsSpriteTemp = window.createjs.Sprite;\r\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/Sprite.html\r\n */\r\nclass CreatejsSprite extends window.createjs.Sprite {\r\n    constructor(...args) {\r\n        super();\r\n        this._initForPixi();\r\n        CreatejsSpriteTemp.apply(this, arguments);\r\n    }\r\n    /**\r\n     * @since 1.1.0\r\n     */\r\n    _initForPixi() {\r\n        this._originParams = createOriginParams();\r\n        this._pixiData = createSpritePixiData(this);\r\n    }\r\n    initialize(...args) {\r\n        this._initForPixi();\r\n        return super.initialize(...arguments);\r\n    }\r\n    gotoAndStop(...args) {\r\n        super.gotoAndStop(...arguments);\r\n        const frame = this.spriteSheet.getFrame(this.currentFrame);\r\n        const baseTexture = BaseTexture.from(frame.image);\r\n        const texture = new Texture(baseTexture, frame.rect);\r\n        this._pixiData.instance.texture = texture;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n}\r\nappendDisplayObjectDescriptor(CreatejsSprite);\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n    _originParams: {\r\n        value: createOriginParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createSpritePixiData({}),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Container.html\r\n */\r\nclass PixiShape extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createShapeOriginParam(graphics) {\r\n    return Object.assign(createOriginParams(), {\r\n        graphics: graphics\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createShapePixiData(cjs) {\r\n    const pixi = new PixiShape(cjs);\r\n    return Object.assign(createPixiData(pixi.pivot), {\r\n        instance: pixi,\r\n        masked: []\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst CreatejsShapeTemp = window.createjs.Shape;\r\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/Shape.html\r\n */\r\nclass CreatejsShape extends window.createjs.Shape {\r\n    constructor(...args) {\r\n        super(...arguments);\r\n        this._initForPixi();\r\n        CreatejsShapeTemp.apply(this, arguments);\r\n    }\r\n    /**\r\n     * @since 1.1.0\r\n     */\r\n    _initForPixi() {\r\n        this._originParams = createShapeOriginParam(null);\r\n        this._pixiData = createShapePixiData(this);\r\n    }\r\n    get graphics() {\r\n        return this._originParams.graphics;\r\n    }\r\n    set graphics(value) {\r\n        if (this._pixiData.masked.length) {\r\n            this._pixiData.instance.removeChildren();\r\n            if (value) {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = this._pixiData.instance;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = null;\r\n                }\r\n            }\r\n        }\r\n        if (value) {\r\n            this._pixiData.instance.addChild(value.pixi);\r\n        }\r\n        this._originParams.graphics = value;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n}\r\nappendDisplayObjectDescriptor(CreatejsShape);\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n    _originParams: {\r\n        value: createShapeOriginParam(null),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createShapePixiData({}),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Sprite.html\r\n * @since 1.0.9\r\n */\r\nclass PixiBitmap extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createBitmapPixiData(cjs) {\r\n    const pixi = new PixiBitmap(cjs);\r\n    return Object.assign(createPixiData(pixi.anchor), {\r\n        instance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst CreatejsBitmapTemp = window.createjs.Bitmap;\r\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/Bitmap.html\r\n * @since 1.0.9\r\n */\r\nclass CreatejsBitmap extends window.createjs.Bitmap {\r\n    constructor(...args) {\r\n        super(...arguments);\r\n        this._initForPixi();\r\n        CreatejsBitmapTemp.apply(this, arguments);\r\n    }\r\n    /**\r\n     * @since 1.1.0\r\n     */\r\n    _initForPixi() {\r\n        this._originParams = createOriginParams();\r\n        this._pixiData = createBitmapPixiData(this);\r\n    }\r\n    initialize(...args) {\r\n        this._originParams = createOriginParams();\r\n        this._pixiData = createBitmapPixiData(this);\r\n        const res = super.initialize(...arguments);\r\n        const texture = Texture.from(this.image);\r\n        this._pixiData.instance.texture = texture;\r\n        return res;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n}\r\nappendDisplayObjectDescriptor(CreatejsBitmap);\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n    _originParams: {\r\n        value: createOriginParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createBitmapPixiData({}),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Graphics.html\r\n */\r\nclass PixiGraphics extends Graphics {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createGraphicsPixiData(cjs) {\r\n    const pixi = new PixiGraphics(cjs);\r\n    return Object.assign(createPixiData(pixi.pivot), {\r\n        instance: pixi,\r\n        strokeFill: 0,\r\n        strokeAlpha: 1\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n    0: LINE_CAP.BUTT,\r\n    1: LINE_CAP.ROUND,\r\n    2: LINE_CAP.SQUARE\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n    0: LINE_JOIN.MITER,\r\n    1: LINE_JOIN.ROUND,\r\n    2: LINE_JOIN.BEVEL\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD$1 = Math.PI / 180;\r\n/**\r\n * @ignore\r\n */\r\nconst CreatejsGraphicsTemp = window.createjs.Graphics;\r\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/Graphics.html\r\n */\r\nclass CreatejsGraphics extends window.createjs.Graphics {\r\n    constructor(...args) {\r\n        super(...arguments);\r\n        this._initForPixi();\r\n        CreatejsGraphicsTemp.apply(this, arguments);\r\n        this._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n        this._pixiData.strokeFill = 0;\r\n        this._pixiData.strokeAlpha = 1;\r\n    }\r\n    /**\r\n     * @since 1.1.0\r\n     */\r\n    _initForPixi() {\r\n        this._originParams = createOriginParams();\r\n        this._pixiData = createGraphicsPixiData(this);\r\n    }\r\n    moveTo(x, y) {\r\n        if (this._pixiData.instance.clone().endFill().containsPoint({ x: x, y: y })) {\r\n            this._pixiData.instance.beginHole();\r\n        }\r\n        else {\r\n            this._pixiData.instance.endHole();\r\n        }\r\n        this._pixiData.instance.moveTo(x, y);\r\n        return super.moveTo(x, y);\r\n    }\r\n    lineTo(x, y) {\r\n        this._pixiData.instance.lineTo(x, y);\r\n        return super.lineTo(x, y);\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n        return super.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        this._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n        return super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    quadraticCurveTo(cpx, cpy, x, y) {\r\n        this._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n        return super.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        this._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n        return super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    rect(x, y, w, h) {\r\n        this._pixiData.instance.drawRect(x, y, w, h);\r\n        return super.rect(x, y, w, h);\r\n    }\r\n    closePath() {\r\n        this._pixiData.instance.closePath();\r\n        return super.closePath();\r\n    }\r\n    clear() {\r\n        this._pixiData.instance.clear();\r\n        return super.clear();\r\n    }\r\n    _parseColor(color) {\r\n        const res = {\r\n            color: 0,\r\n            alpha: 1\r\n        };\r\n        if (!color) {\r\n            res.alpha = 0;\r\n            return res;\r\n        }\r\n        if (color.charAt(0) === '#') {\r\n            res.color = parseInt(color.slice(1), 16);\r\n            return res;\r\n        }\r\n        const colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n        res.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n        res.alpha = Number(colors[3]);\r\n        return res;\r\n    }\r\n    beginFill(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.instance.beginFill(c.color, c.alpha);\r\n        return super.beginFill(color);\r\n    }\r\n    endFill() {\r\n        this._pixiData.instance.endFill();\r\n        return super.endFill();\r\n    }\r\n    setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        this._pixiData.instance.lineTextureStyle({\r\n            width: thickness,\r\n            color: this._pixiData.strokeFill,\r\n            alpha: this._pixiData.strokeAlpha,\r\n            cap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n            join: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n            miterLimit: miterLimit\r\n        });\r\n        return super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    beginStroke(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.strokeFill = c.color;\r\n        this._pixiData.strokeAlpha = c.alpha;\r\n        return super.beginStroke(color);\r\n    }\r\n    drawRoundRect(x, y, w, h, radius) {\r\n        this._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n        return super.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pixiData.instance.drawCircle(x, y, radius);\r\n        return super.drawCircle(x, y, radius);\r\n    }\r\n    drawEllipse(x, y, w, h) {\r\n        this._pixiData.instance.drawEllipse(x, y, w, h);\r\n        return super.drawEllipse(x, y, w, h);\r\n    }\r\n    drawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n        this._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD$1);\r\n        return super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n}\r\n// alias\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    curveTo: {\r\n        value: CreatejsGraphics.prototype.quadraticCurveTo\r\n    },\r\n    drawRect: {\r\n        value: CreatejsGraphics.prototype.rect\r\n    },\r\n    mt: {\r\n        value: CreatejsGraphics.prototype.moveTo\r\n    },\r\n    lt: {\r\n        value: CreatejsGraphics.prototype.lineTo\r\n    },\r\n    at: {\r\n        value: CreatejsGraphics.prototype.arcTo\r\n    },\r\n    bt: {\r\n        value: CreatejsGraphics.prototype.bezierCurveTo\r\n    },\r\n    qt: {\r\n        value: CreatejsGraphics.prototype.quadraticCurveTo\r\n    },\r\n    a: {\r\n        value: CreatejsGraphics.prototype.arc\r\n    },\r\n    r: {\r\n        value: CreatejsGraphics.prototype.rect\r\n    },\r\n    cp: {\r\n        value: CreatejsGraphics.prototype.closePath\r\n    },\r\n    c: {\r\n        value: CreatejsGraphics.prototype.clear\r\n    },\r\n    f: {\r\n        value: CreatejsGraphics.prototype.beginFill\r\n    },\r\n    ef: {\r\n        value: CreatejsGraphics.prototype.endFill\r\n    },\r\n    ss: {\r\n        value: CreatejsGraphics.prototype.setStrokeStyle\r\n    },\r\n    s: {\r\n        value: CreatejsGraphics.prototype.beginStroke\r\n    },\r\n    dr: {\r\n        value: CreatejsGraphics.prototype.drawRect\r\n    },\r\n    rr: {\r\n        value: CreatejsGraphics.prototype.drawRoundRect\r\n    },\r\n    dc: {\r\n        value: CreatejsGraphics.prototype.drawCircle\r\n    },\r\n    de: {\r\n        value: CreatejsGraphics.prototype.drawEllipse\r\n    },\r\n    dp: {\r\n        value: CreatejsGraphics.prototype.drawPolyStar\r\n    }\r\n});\r\nappendDisplayObjectDescriptor(CreatejsGraphics);\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    _originParams: {\r\n        value: createOriginParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createGraphicsPixiData({}),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Text.html\r\n */\r\nclass PixiText extends Text {\r\n}\r\n/**\r\n * @see http://pixijs.download/release/docs/PIXI.Container.html\r\n */\r\nclass PixiTextContainer extends Container {\r\n    constructor(cjs, text) {\r\n        super();\r\n        this._createjs = cjs;\r\n        this._text = text;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createTextOriginParam(text, font, color) {\r\n    return Object.assign(createOriginParams(), {\r\n        text: text,\r\n        font: font,\r\n        color: color,\r\n        textAlign: 'left',\r\n        lineHeight: 0,\r\n        lineWidth: 0\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createTextPixiData(cjs, text) {\r\n    const pixi = new PixiTextContainer(cjs, text);\r\n    return Object.assign(createPixiData(pixi.pivot), {\r\n        instance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst CreatejsTextTemp = window.createjs.Text;\r\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/Text.html\r\n */\r\nclass CreatejsText extends window.createjs.Text {\r\n    constructor(text, font, color = '#000000', ...args) {\r\n        super(text, font, color, ...args);\r\n        this._initForPixi(text, font, color, ...args);\r\n        CreatejsTextTemp.call(this, text, font, color, ...args);\r\n    }\r\n    /**\r\n     * @since 1.1.0\r\n     */\r\n    _initForPixi(text, font, color = '#000000', ...args) {\r\n        this._originParams = createTextOriginParam(text, font, color);\r\n        const _font = this._parseFont(font);\r\n        const t = new PixiText(text, {\r\n            fontWeight: _font.fontWeight,\r\n            fontSize: _font.fontSize,\r\n            fontFamily: _font.fontFamily,\r\n            fill: this._parseColor(color),\r\n            wordWrap: true\r\n        });\r\n        this._pixiData = createTextPixiData(this, t);\r\n        this._pixiData.instance.addChild(t);\r\n    }\r\n    get text() {\r\n        return this._originParams.text;\r\n    }\r\n    set text(text) {\r\n        this._pixiData.instance.text.text = text;\r\n        this._align(this.textAlign);\r\n        this._originParams.text = text;\r\n    }\r\n    _parseFont(font) {\r\n        const p = font.split(' ');\r\n        let w = 'normal';\r\n        let s = p.shift();\r\n        if (s.indexOf('px') === -1) {\r\n            w = s;\r\n            s = p.shift();\r\n        }\r\n        return {\r\n            fontWeight: w,\r\n            fontSize: Number((s || '0px').replace('px', '')),\r\n            fontFamily: p.join(' ').replace(/'/g, '') //'\r\n        };\r\n    }\r\n    get font() {\r\n        return this._originParams.font;\r\n    }\r\n    set font(font) {\r\n        const _font = this._parseFont(font);\r\n        this._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n        this._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n        this._originParams.font = font;\r\n    }\r\n    _parseColor(color) {\r\n        return parseInt(color.slice(1), 16);\r\n    }\r\n    get color() {\r\n        return this._originParams.color;\r\n    }\r\n    set color(color) {\r\n        this._pixiData.instance.text.style.fill = this._parseColor(color);\r\n        this._originParams.color = color;\r\n    }\r\n    _align(align) {\r\n        if (align === 'left') {\r\n            this._pixiData.instance.text.x = 0;\r\n            return;\r\n        }\r\n        if (align === 'center') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n            return;\r\n        }\r\n        if (align === 'right') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width;\r\n            return;\r\n        }\r\n    }\r\n    get textAlign() {\r\n        return this._originParams.textAlign;\r\n    }\r\n    set textAlign(align) {\r\n        this._pixiData.instance.text.style.align = align;\r\n        this._align(align);\r\n        this._originParams.textAlign = align;\r\n    }\r\n    get lineHeight() {\r\n        return this._originParams.lineHeight;\r\n    }\r\n    set lineHeight(height) {\r\n        this._pixiData.instance.text.style.lineHeight = height;\r\n        this._originParams.lineHeight = height;\r\n    }\r\n    get lineWidth() {\r\n        return this._originParams.lineWidth;\r\n    }\r\n    set lineWidth(width) {\r\n        this._pixiData.instance.text.style.wordWrapWidth = width;\r\n        this._align(this.textAlign);\r\n        this._originParams.lineWidth = width;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n}\r\nappendDisplayObjectDescriptor(CreatejsText);\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n    _originParams: {\r\n        value: createOriginParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createTextPixiData({}, new PixiText('')),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * @see https://createjs.com/docs/easeljs/classes/ButtonHelper.html\r\n */\r\nclass CreatejsButtonHelper extends window.createjs.ButtonHelper {\r\n    constructor(...args) {\r\n        super(...arguments);\r\n        const createjs = arguments[0];\r\n        const pixi = createjs.pixi;\r\n        const baseFrame = arguments[1];\r\n        const overFrame = arguments[2];\r\n        const downFrame = arguments[3];\r\n        const hit = arguments[5];\r\n        const hitFrame = arguments[6];\r\n        hit.gotoAndStop(hitFrame);\r\n        const hitPixi = pixi.addChild(hit.pixi);\r\n        hitPixi.alpha = 0.00001;\r\n        let isOver = false;\r\n        let isDown = false;\r\n        hitPixi.on('pointerover', function () {\r\n            isOver = true;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(downFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerout', function () {\r\n            isOver = false;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerdown', function () {\r\n            isDown = true;\r\n            createjs.gotoAndStop(downFrame);\r\n        });\r\n        hitPixi.on('pointerup', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerupoutside', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.interactive = true;\r\n        hitPixi.cursor = 'pointer';\r\n    }\r\n}\n\n/**\r\n * @ignore\r\n */\r\nlet _isPrepare = false;\r\n/**\r\n * Prepare createjs content published with Adobe Animate.\r\n * @since 2.0.0\r\n */\r\nfunction prepareAnimate(options = {}) {\r\n    if (_isPrepare) {\r\n        return;\r\n    }\r\n    CreatejsMovieClip.selectUpdateFunc(options.useSynchedTimeline);\r\n    if (options.useMotionGuide) {\r\n        window.createjs.MotionGuidePlugin.install();\r\n    }\r\n    _isPrepare = true;\r\n}\r\n/**\r\n * Load assets of createjs content published with Adobe Animate.\r\n * @param id \"lib.properties.id\" in Animate content.\r\n * @param basepath Directory path of Animate content.\r\n * @since 2.0.0\r\n */\r\nfunction loadAssetAsync(id, basepath, options = {}) {\r\n    const comp = window.AdobeAn.getComposition(id);\r\n    if (!comp) {\r\n        throw new Error('no composition');\r\n    }\r\n    const lib = comp.getLibrary();\r\n    return new Promise((resolve, reject) => {\r\n        if (lib.properties.manifest.length === 0) {\r\n            resolve({});\r\n        }\r\n        if (basepath) {\r\n            basepath = (basepath + '/').replace(/([^\\:])\\/\\//, \"$1/\");\r\n        }\r\n        const loader = new window.createjs.LoadQueue(false, basepath);\r\n        loader.installPlugin(window.createjs.Sound);\r\n        loader.addEventListener('fileload', function (evt) {\r\n            handleFileLoad(evt, comp);\r\n        });\r\n        loader.addEventListener('complete', function (evt) {\r\n            resolve(evt);\r\n        });\r\n        if (options.crossOrigin) {\r\n            const m = lib.properties.manifest;\r\n            for (let i = 0; i < m.length; i++) {\r\n                m[i].crossOrigin = true;\r\n            }\r\n        }\r\n        loader.loadManifest(lib.properties.manifest);\r\n    })\r\n        .then((evt) => {\r\n        const ss = comp.getSpriteSheet();\r\n        const queue = evt.target;\r\n        const ssMetadata = lib.ssMetadata;\r\n        for (let i = 0; i < ssMetadata.length; i++) {\r\n            ss[ssMetadata[i].name] = new window.createjs.SpriteSheet({\r\n                images: [\r\n                    queue.getResult(ssMetadata[i].name)\r\n                ],\r\n                frames: ssMetadata[i].frames\r\n            });\r\n        }\r\n        return lib;\r\n    });\r\n}\r\nfunction initializeAnimate(obj = {}) {\r\n    window.createjs.Stage = CreatejsStage;\r\n    window.createjs.StageGL = CreatejsStageGL;\r\n    window.createjs.MovieClip = CreatejsMovieClip;\r\n    window.createjs.Sprite = CreatejsSprite;\r\n    window.createjs.Shape = CreatejsShape;\r\n    window.createjs.Bitmap = CreatejsBitmap;\r\n    window.createjs.Graphics = CreatejsGraphics;\r\n    window.createjs.Text = CreatejsText;\r\n    window.createjs.ButtonHelper = CreatejsButtonHelper;\r\n    for (let i in obj) {\r\n        window.createjs[i] = obj[i];\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n    const images = comp.getImages();\r\n    if (evt && (evt.item.type == 'image')) {\r\n        images[evt.item.id] = evt.result;\r\n    }\r\n}\n\nexport { CreatejsBitmap, CreatejsButtonHelper, CreatejsGraphics, CreatejsMovieClip, CreatejsShape, CreatejsSprite, CreatejsStage, CreatejsStageGL, CreatejsText, PixiBitmap, PixiGraphics, PixiMovieClip, PixiShape, PixiSprite, PixiText, PixiTextContainer, createOriginParams, createPixiData, initializeAnimate, loadAssetAsync, prepareAnimate, updateDisplayObjectChildren };\n//# sourceMappingURL=pixi-animate-core.esm.js.map\n","import { CreatejsMovieClip as _CreatejsMovieClip, TTickerData } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P: number = 1000 / 60;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst Q: number = P / 60;\r\n\r\n/**\r\n * @see https://tawaship.github.io/pixi-animate-core/classes/createjsmovieclip.html\r\n */\r\nexport class CreatejsMovieClip extends _CreatejsMovieClip {\r\n\tdeclare private _framerateBase: number;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...arguments);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tsuper.initialize(...arguments);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tprotected _updateForPixiSynched(e: TTickerData) {\r\n\t\tthis.advance(e.delta * P);\r\n\t\t\r\n\t\treturn super._updateForPixiSynched(e);\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tprotected _updateForPixiUnsynched(e: TTickerData) {\r\n\t\treturn super._updateForPixiUnsynched({\r\n\t\t\tdelta: e.delta * Q * this.framerate\r\n\t\t});\r\n\t}\r\n}","import * as _PIXI from 'pixi.js';\r\nimport { CreatejsMovieClip } from '../createjs/MovieClip';\r\n\r\nnamespace PIXI {\r\n\texport namespace animate {\r\n\t\t/**\r\n\t\t * @since 3.0.0\r\n\t\t */\r\n\t\texport type TTickHandler = (delta: number) => void;\r\n\t\t\r\n\t\t/**\r\n\t\t * @see http://pixijs.download/release/docs/PIXI.Container.html\r\n\t\t */\r\n\t\texport class Container extends _PIXI.Container {\r\n\t\t\tprivate static _id: number = 0;\r\n\t\t\tprivate static _targets: { [id: number]: CreatejsMovieClip} = {};\r\n\t\t\tstatic tick: TTickHandler = Container._tickDelta;\r\n\t\t\t\r\n\t\t\tstatic setTickHandler(useDeltaTime: boolean) {\r\n\t\t\t\tif (useDeltaTime) {\r\n\t\t\t\t\tthis.tick = this._tickDelta;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.tick = this._tickNoDelta;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprivate static _tickDelta(delta: number) {\r\n\t\t\t\tfor (let i in this._targets) {\r\n\t\t\t\t\tthis._targets[i].updateForPixi({ delta });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprivate static _tickNoDelta(delta: number) {\r\n\t\t\t\tfor (let i in this._targets) {\r\n\t\t\t\t\tthis._targets[i].updateForPixi({ delta: 1 });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprivate static _addMovieClip(cjs: CreatejsMovieClip) {\r\n\t\t\t\tconst id: number = this._id++;\r\n\t\t\t\tthis._targets[id] = cjs;\r\n\t\t\t\t\r\n\t\t\t\treturn id;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprivate static _removeMovlieClip(id: number) {\r\n\t\t\t\tdelete(this._targets[id]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprivate _addCreatejs(cjs) {\r\n\t\t\t\tif (cjs instanceof CreatejsMovieClip) {\r\n\t\t\t\t\tconst p = cjs.pixi.parent;\r\n\t\t\t\t\t\r\n\t\t\t\t\tcjs.pixi.once('added', () => {\r\n\t\t\t\t\t\tif (cjs.pixi.parent !== p) {\r\n\t\t\t\t\t\t\tcjs.gotoAndPlay(0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconst id: number = Container._addMovieClip(cjs);\r\n\t\t\t\t\t\tcjs.pixi.once('removed', () => {\r\n\t\t\t\t\t\t\tContainer._removeMovlieClip(id);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\taddCreatejs(cjs) {\r\n\t\t\t\tthis._addCreatejs(cjs);\r\n\t\t\t\tthis.addChild(cjs.pixi);\r\n\t\t\t\t\r\n\t\t\t\treturn cjs;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\taddCreatejsAt(cjs, index) {\r\n\t\t\t\tthis._addCreatejs(cjs);\r\n\t\t\t\tthis.addChildAt(cjs.pixi, index);\r\n\t\t\t\t\r\n\t\t\t\treturn cjs;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tremoveCreatejs(cjs) {\r\n\t\t\t\tthis.removeChild(cjs.pixi);\r\n\t\t\t\t\r\n\t\t\t\treturn cjs;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import Container = PIXI.animate.Container;\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import TTickHandler = PIXI.animate.TTickHandler;","import { IPrepareOption as _IPrepareOption, loadAssetAsync as _loadAssetAsync, ILoadAssetOption, TAnimateLibrary, prepareAnimate } from '@tawaship/pixi-animate-core';\r\nimport * as _PIXI from 'pixi.js';\r\nimport { Container, TTickHandler } from './Container';\r\nimport { CreatejsMovieClip } from '../createjs/MovieClip';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const window: any;\r\n\r\n/**\r\n * @ignore\r\n */\r\nlet _isInit = false;\r\n\r\nnamespace PIXI {\r\n\texport namespace animate {\r\n\t\t/**\r\n\t\t * @see https://tawaship.github.io/pixi-animate-core/interfaces/iprepareoption.html\r\n\t\t * @ignore\r\n\t\t * @since 3.0.0\r\n\t\t */\r\n\t\texport interface IPrepareOption extends _IPrepareOption {\r\n\t\t\t/**\r\n\t\t\t * Whether to advance the head of the movie clip in delta time.\r\n\t\t\t */\r\n\t\t\tuseDeltaTime?: boolean\r\n\t\t};\r\n\t\t\r\n\t\t/**\r\n\t\t * @since 3.0.0\r\n\t\t */\r\n\t\texport interface IPrepareTarget {\r\n\t\t\t/**\r\n\t\t\t * \"lib.properties.id\" in Animate content.\r\n\t\t\t */\r\n\t\t\tid: string;\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * Directory path of Animate content.\r\n\t\t\t */\r\n\t\t\tbasepath: string;\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * @see https://tawaship.github.io/pixi-animate-core/interfaces/iloadassetoption.html\r\n\t\t\t */\r\n\t\t\toptions?: ILoadAssetOption;\r\n\t\t};\r\n\t\t\r\n\t\t/**\r\n\t\t * @ignore\r\n\t\t */\r\n\t\tconst _promises: { [name: string]: Promise<TAnimateLibrary> } = {};\r\n\t\t\r\n\t\t/**\r\n\t\t * @ignore\r\n\t\t */\r\n\t\tconst _handleContainer: TTickHandler = (delta: number) => {\r\n\t\t\tContainer.tick(delta);\r\n\t\t};\r\n\t\t\r\n\t\t_PIXI.Application.registerPlugin({\r\n\t\t\tinit() {\r\n\t\t\t\tthis.ticker.add(_handleContainer);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tdestroy() {\r\n\t\t\t\tthis.ticker.remove(_handleContainer);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t/**\r\n\t\t * @since 3.0.0\r\n\t\t */\r\n\t\texport function init(options: IPrepareOption = {}) {\r\n\t\t\tif (_isInit) {\r\n\t\t\t\tconsole.warn('[pixi-animate-container] Already initialized.');\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t_isInit = true;\r\n\t\t\tprepareAnimate(options);\r\n\t\t\tContainer.setTickHandler(!!options.useDeltaTime);\r\n\t\t\t\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t/**\r\n\t\t * Load assets of createjs content published with Adobe Animate.\r\n\t\t * If you use multiple contents, each composition id must be unique.\r\n\t\t * @async\r\n\t\t * @since 3.0.0\r\n\t\t */\r\n\t\texport function loadAssetAsync(targets: IPrepareTarget | IPrepareTarget[]) {\r\n\t\t\tif (!_isInit) {\r\n\t\t\t\tthrow new Error('[pixi-animate-container] Please execute \"PIXI.animate.init\" first.');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!Array.isArray(targets)) {\r\n\t\t\t\ttargets = [targets];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst promises: Promise<TAnimateLibrary>[] = [];\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < targets.length; i++) {\r\n\t\t\t\tconst comp = window.AdobeAn.getComposition(targets[i].id);\r\n\t\t\t\tif (!comp) {\r\n\t\t\t\t\tthrow new Error(`no composition: ${targets[i].id}`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < targets.length; i++) {\r\n\t\t\t\tconst target: IPrepareTarget = targets[i];\r\n\t\t\t\tconst name = `${target.id}@${target.basepath}`;\r\n\t\t\t\t\r\n\t\t\t\tconst p = _promises[name];\r\n\t\t\t\tif (p) {\r\n\t\t\t\t\tpromises.push(p);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst b = _promises[name] = \r\n\t\t\t\t\t_loadAssetAsync(target.id, target.basepath, target.options)\r\n\t\t\t\t\t\t.then((lib: TAnimateLibrary) => {\r\n\t\t\t\t\t\t\tfor (let i  in lib) {\r\n\t\t\t\t\t\t\t\tif (lib[i].prototype instanceof CreatejsMovieClip) {\r\n\t\t\t\t\t\t\t\t\tlib[i].prototype._framerateBase = lib.properties.fps;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn lib;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tpromises.push(b);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn Promise.all(promises)\r\n\t\t\t\t.then((resolvers: TAnimateLibrary[]) => {\r\n\t\t\t\t\tif (resolvers.length === 1) {\r\n\t\t\t\t\t\treturn resolvers[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn resolvers;\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import init = PIXI.animate.init;\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import loadAssetAsync = PIXI.animate.loadAssetAsync;\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import IPrepareOption = PIXI.animate.IPrepareOption;\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport import IPrepareTarget = PIXI.animate.IPrepareTarget;","import { initializeAnimate } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from '../createjs/MovieClip';\r\n\r\ninitializeAnimate({\r\n\tMovieClip: CreatejsMovieClip\r\n});\r\n\r\nexport * from './Container';\r\nexport * from './funcs';"],"names":["createPixiData","regObj","events","updateDisplayObjectChildren","self","e","const","list","children","slice","i","l","length","child","isVisible","updateForPixi","CreatejsStage","props","this","tickOnUpdate","tick","dispatchEvent","window","createjs","Stage","CreatejsStageGL","StageGL","_isDown","EventMap","mousedown","types","factory","cb","currentTarget","target","ev","data","rawX","global","x","rawY","y","rollover","rollout","pressmove","pressup","DEG_TO_RAD","Math","PI","appendixDescriptor","get","_originParams","set","value","_pixiData","instance","scaleX","scale","scaleY","skewX","skew","skewY","regX","regY","rotation","visible","alpha","_off","renderable","addEventListener","type","Function","func","t","push","origin","on","interactive","DisplayObject","prototype","apply","arguments","removeEventListener","j","off","splice","res","listeners","_listeners","let","removeAllEventListeners","removeAllListeners","_pixi","mask","masked","once","parent","addChild","filters","subInstance","f","ColorMatrixFilter","m","PIXI","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","n","Container","nc","_filterContainer","updateTransform","calculateBounds","b","getLocalBounds","cacheAsBitmap","removeChildren","v","appendDisplayObjectDescriptor","cls","Object","defineProperties","PixiMovieClip","cjs","super","_createjs","prototypeAccessors","createMovieClipPixiData","pixi","assign","pivot","CreatejsMovieClipTemp","MovieClip","_funcFlag","CreatejsMovieClip","_initForPixi","regx","regy","_updateForPixiSynched","_updateForPixiUnsynched","initialize","addChildAt","index","removeChild","removeChildAt","removeAllChldren","prototypeAccessors$1","selectUpdateFunc","flag","_updateState","_tick","writable","PixiSprite","prototypeAccessors$2","Sprite","createSpritePixiData","anchor","CreatejsSpriteTemp","CreatejsSprite","gotoAndStop","frame","spriteSheet","getFrame","currentFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","prototypeAccessors$3","PixiShape","prototypeAccessors$4","createShapeOriginParam","graphics","createShapePixiData","CreatejsShapeTemp","Shape","CreatejsShape","prototypeAccessors$5","PixiBitmap","prototypeAccessors$6","createBitmapPixiData","CreatejsBitmapTemp","Bitmap","CreatejsBitmap","prototypeAccessors$7","PixiGraphics","prototypeAccessors$8","Graphics","createGraphicsPixiData","strokeFill","strokeAlpha","LineCap","0","LINE_CAP","BUTT","1","ROUND","2","SQUARE","LineJoin","LINE_JOIN","MITER","BEVEL","DEG_TO_RAD$1","CreatejsGraphicsTemp","CreatejsGraphics","beginFill","moveTo","clone","endFill","containsPoint","beginHole","endHole","lineTo","arcTo","x1","y1","x2","y2","radius","arc","startAngle","endAngle","anticlockwise","quadraticCurveTo","cpx","cpy","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","w","h","drawRect","closePath","clear","_parseColor","color","charAt","parseInt","colors","replace","split","Number","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineTextureStyle","width","cap","join","beginStroke","drawRoundRect","drawRoundedRect","drawCircle","drawEllipse","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","prototypeAccessors$9","curveTo","mt","lt","at","bt","qt","a","r","cp","ef","ss","s","dr","rr","dc","de","dp","PixiText","Text","PixiTextContainer","text","_text","prototypeAccessors$10","createTextOriginParam","font","textAlign","lineHeight","lineWidth","createTextPixiData","CreatejsTextTemp","CreatejsText","args","call","_font","_parseFont","fontWeight","fontSize","fontFamily","fill","wordWrap","prototypeAccessors$11","_align","p","shift","indexOf","style","align","height","wordWrapWidth","CreatejsButtonHelper","baseFrame","overFrame","downFrame","hit","hitFrame","hitPixi","isOver","isDown","cursor","ButtonHelper","_isPrepare","loadAssetAsync","id","basepath","options","comp","AdobeAn","getComposition","Error","lib","getLibrary","Promise","resolve","reject","properties","manifest","loader","LoadQueue","installPlugin","Sound","evt","images","getImages","item","result","handleFileLoad","crossOrigin","loadManifest","then","getSpriteSheet","queue","ssMetadata","name","SpriteSheet","getResult","frames","P","framerate","_framerateBase","advance","delta","_CreatejsMovieClip","animate","setTickHandler","useDeltaTime","_tickDelta","_tickNoDelta","_targets","_addMovieClip","_id","_removeMovlieClip","_addCreatejs","gotoAndPlay","addCreatejs","addCreatejsAt","removeCreatejs","_PIXI.Container","_isInit","_promises","_handleContainer","_PIXI.Application","registerPlugin","init","ticker","add","destroy","remove","console","warn","useSynchedTimeline","useMotionGuide","MotionGuidePlugin","install","prepareAnimate","targets","Array","isArray","promises","_loadAssetAsync","fps","all","resolvers","obj","initializeAnimate"],"mappings":"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"}