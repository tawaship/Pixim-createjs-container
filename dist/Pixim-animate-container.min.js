/*!
 * Pixim-animate-container - v3.0.0
 * 
 * @require pixi.js v5.3.2
 * @require @tawaship/pixim.js v1.8.0
 * @author tawaship (makazu.mori@gmail.com)
 * @license MIT
 */
this.Pixim=this.Pixim||{},function(t,i,e){"use strict";
/*!
 * @tawaship/pixi-animate-core - v2.0.2
 * 
 * @require pixi.js v5.3.2
 * @author tawaship (makazu.mori@gmail.com)
 * @license MIT
 */function r(t){return{regObj:t,events:{}}}function n(t,i){for(var e=t.children.slice(),r=0,n=e.length;r<n;r++){var a=e[r];a.isVisible()&&a.updateForPixi(i)}return!0}var a=function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.updateForPixi=function(t){this.tickOnUpdate&&this.tick(t),this.dispatchEvent("drawstart"),n(this,t),this.dispatchEvent("drawend")},i}(window.createjs.Stage),o=function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.updateForPixi=function(t){this.tickOnUpdate&&this.tick(t),this.dispatchEvent("drawstart"),n(this,t),this.dispatchEvent("drawend")},i}(window.createjs.StageGL),s=!1,p={mousedown:{types:["pointerdown"],factory:function(t,i){return function(t){t.currentTarget=t.currentTarget.createjs,t.target=t.target.createjs;var e=t.data;t.rawX=e.global.x,t.rawY=e.global.y,s=!0,i(t)}}},rollover:{types:["pointerover"],factory:function(t,i){return function(t){t.currentTarget=t.currentTarget.createjs,t.target=t.currentTarget.createjs;var e=t.data;t.rawX=e.global.x,t.rawY=e.global.y,s=!0,i(t)}}},rollout:{types:["pointerout"],factory:function(t,i){return function(t){t.currentTarget=t.currentTarget.createjs,t.target=t.currentTarget.createjs;var e=t.data;t.rawX=e.global.x,t.rawY=e.global.y,s=!0,i(t)}}},pressmove:{types:["pointermove"],factory:function(t,i){return function(e){if(s){e.currentTarget=t,e.target=e.target&&e.target.createjs;var r=e.data;e.rawX=r.global.x,e.rawY=r.global.y,i(e)}}}},pressup:{types:["pointerup","pointeupoutside"],factory:function(t,i){return function(e){if(s){e.currentTarget=t,s=!1,e.target=e.target&&e.target.createjs;var r=e.data;e.rawX=r.global.x,e.rawY=r.global.y,i(e)}}}}},c=Math.PI/180,l={x:{get:function(){return this._originParams.x},set:function(t){return this._pixiData.instance.x=t,this._originParams.x=t}},y:{get:function(){return this._originParams.y},set:function(t){return this._pixiData.instance.y=t,this._originParams.y=t}},scaleX:{get:function(){return this._originParams.scaleX},set:function(t){return this._pixiData.instance.scale.x=t,this._originParams.scaleX=t}},scaleY:{get:function(){return this._originParams.scaleY},set:function(t){return this._pixiData.instance.scale.y=t,this._originParams.scaleY=t}},skewX:{get:function(){return this._originParams.skewX},set:function(t){return this._pixiData.instance.skew.x=-t*c,this._originParams.skewX=t}},skewY:{get:function(){return this._originParams.skewY},set:function(t){return this._pixiData.instance.skew.y=t*c,this._originParams.skewY=t}},regX:{get:function(){return this._originParams.regX},set:function(t){return this._pixiData.regObj.x=t,this._originParams.regX=t}},regY:{get:function(){return this._originParams.regY},set:function(t){return this._pixiData.regObj.y=t,this._originParams.regY=t}},rotation:{get:function(){return this._originParams.rotation},set:function(t){return this._pixiData.instance.rotation=t*c,this._originParams.rotation=t}},visible:{get:function(){return this._originParams.visible},set:function(t){return t=!!t,this._pixiData.instance.visible=t,this._originParams.visible=t}},alpha:{get:function(){return this._originParams.alpha},set:function(t){return this._pixiData.instance.alpha=t,this._originParams.alpha=t}},_off:{get:function(){return this._originParams._off},set:function(t){return this._pixiData.instance.renderable=!t,this._originParams._off=t}},addEventListener:{value:function(t,i){if(i instanceof Function){if(t in p){for(var e=p[t],r=e.factory(this,i),n=e.types,a=0;a<n.length;a++){var o=n[a];this._pixiData.events[o]=this._pixiData.events[o]||[],this._pixiData.events[o].push({func:r,origin:i}),this._pixiData.instance.on(o,r)}this._pixiData.instance.interactive=!0}return window.createjs.DisplayObject.prototype.addEventListener.apply(this,arguments)}}},removeEventListener:{value:function(t,i){if(t in p)for(var e=p[t],r=e.types,n=0;n<r.length;n++){var a=r[n],o=this._pixiData.events[a];if(o){for(var s=o.length-1;s>=0;s--)if(o[s].origin===i){this._pixiData.instance.off(a,o[s].func),o.splice(s,1);break}0===o.length&&delete this._pixiData.events[a]}}var c=window.createjs.DisplayObject.prototype.removeEventListener.apply(this,arguments),l=this._listeners;if(!l)return c;for(var u in p)if(l[u]&&l[u].length>0)break;return c}},removeAllEventListeners:{value:function(t){return this._pixiData.instance.removeAllListeners(t),this._pixi.instance.interactive=!1,this._pixiData.events={},window.createjs.DisplayObject.prototype.removeAllEventListeners.apply(this,arguments)}},mask:{get:function(){return this._originParams.mask},set:function(t){return t?(t._pixiData.masked.push(this._pixiData.instance),this._pixiData.instance.mask=t._pixiData.instance,this._pixiData.instance.once("added",(function(){this.parent.addChild(t._pixiData.instance)}))):this._pixiData.instance.mask=null,this._originParams.mask=t}},filters:{get:function(){return this._originParams.filters},set:function(t){if(this._pixiData.subInstance)if(t){for(var i=[],e=0;e<t.length;e++){var r=t[e];if(!(r instanceof createjs.ColorMatrixFilter)){var n=new PIXI.filters.ColorMatrixFilter;n.matrix=[r.redMultiplier,0,0,0,r.redOffset/255,0,r.greenMultiplier,0,0,r.greenOffset/255,0,0,r.blueMultiplier,0,r.blueOffset/255,0,0,0,r.alphaMultiplier,r.alphaOffset/255,0,0,0,0,1],i.push(n)}}for(var a=this._pixiData.instance,o=a.children,s=new PIXI.Container,p=this._pixiData.subInstance=s.addChild(new PIXI.Container);o.length;)p.addChild(o[0]);a.addChild(s),a._filterContainer=p,p.updateTransform(),p.calculateBounds();var c=p.getLocalBounds(),l=c.x,u=c.y;for(e=0;e<p.children.length;e++)p.children[e].x-=l,p.children[e].y-=u,p.children[e]._filterContainer&&(p.children[e]._filterContainer.cacheAsBitmap=!1);s.x=l,s.y=u,p.filters=i,p.cacheAsBitmap=!0}else{var h=this._pixiData.instance;if(h._filterContainer){var f=this._pixiData.subInstance,_=f.parent,d=f.children;for(h.removeChildren(),h._filterContainer=null;d.length;){var g=h.addChild(d[0]);g.x+=_.x,g.y+=_.y}f.filters=null,f.cacheAsBitmap=!1,this._pixiData.subInstance=h}}return this._originParams.filters=t}}};function u(t){Object.defineProperties(t.prototype,l)}var h=function(t){function i(i){t.call(this),this._createjs=i}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var e={createjs:{configurable:!0}};return e.createjs.get=function(){return this._createjs},Object.defineProperties(i.prototype,e),i}(i.Container);function f(t){var i=new h(t);return Object.assign(r(i.pivot),{instance:i,subInstance:i})}var _=window.createjs.MovieClip,d=!0,g=function(t){function i(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];t.call(this),this._initForPixi(),_.apply(this,arguments)}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var e={pixi:{configurable:!0}};return i.prototype._initForPixi=function(){this._originParams={x:0,y:0,scaleX:0,scaleY:0,regx:0,regy:0,skewX:0,skewY:0,rotation:0,visible:!0,alpha:1,_off:!1,mask:null,filters:null},this._pixiData=f(this),this.updateForPixi=d?this._updateForPixiSynched:this._updateForPixiUnsynched},i.prototype.initialize=function(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];return this._initForPixi(),t.prototype.initialize.apply(this,arguments)},i.prototype.addChild=function(i){return this._pixiData.subInstance.addChild(i._pixiData.instance),t.prototype.addChild.call(this,i)},i.prototype.addChildAt=function(i,e){return this._pixiData.subInstance.addChildAt(i._pixiData.instance,e),t.prototype.addChildAt.call(this,i,e)},i.prototype.removeChild=function(i){return this._pixiData.subInstance.removeChild(i._pixiData.instance),t.prototype.removeChild.call(this,i)},i.prototype.removeChildAt=function(i){return this._pixiData.subInstance.removeChildAt(i),t.prototype.removeChildAt.call(this,i)},i.prototype.removeAllChldren=function(){return this._pixiData.subInstance.removeChildren(),t.prototype.removeAllChldren.call(this)},e.pixi.get=function(){return this._pixiData.instance},i.selectUpdateFunc=function(t){d=t},i.prototype._updateForPixiSynched=function(t){return this._updateState(),n(this,t)},i.prototype._updateForPixiUnsynched=function(t){return this._tick(t)},Object.defineProperties(i.prototype,e),i}(window.createjs.MovieClip);u(g),Object.defineProperties(g.prototype,{_originParams:{value:{x:0,y:0,scaleX:0,scaleY:0,regx:0,regy:0,skewX:0,skewY:0,rotation:0,visible:!0,alpha:1,_off:!1,mask:null,filters:null},writable:!0},_pixiData:{value:f({}),writable:!0}});var y=function(t){function i(i){t.call(this),this._createjs=i}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var e={createjs:{configurable:!0}};return e.createjs.get=function(){return this._createjs},Object.defineProperties(i.prototype,e),i}(i.Sprite);function x(t){var i=new y(t);return Object.assign(r(i.anchor),{instance:i})}var v=window.createjs.Sprite,m=function(t){function e(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];t.call(this),this._initForPixi(),v.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={pixi:{configurable:!0}};return e.prototype._initForPixi=function(){this._originParams={x:0,y:0,scaleX:0,scaleY:0,regx:0,regy:0,skewX:0,skewY:0,rotation:0,visible:!0,alpha:1,_off:!1,mask:null,filters:null},this._pixiData=x(this)},e.prototype.initialize=function(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];return this._initForPixi(),t.prototype.initialize.apply(this,arguments)},e.prototype.gotoAndStop=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];t.prototype.gotoAndStop.apply(this,arguments);var n=this.spriteSheet.getFrame(this.currentFrame),a=i.BaseTexture.from(n.image),o=new i.Texture(a,n.rect);this._pixiData.instance.texture=o},r.pixi.get=function(){return this._pixiData.instance},e.prototype.updateForPixi=function(t){return!0},Object.defineProperties(e.prototype,r),e}(window.createjs.Sprite);u(m),Object.defineProperties(m.prototype,{_originParams:{value:{x:0,y:0,scaleX:0,scaleY:0,regx:0,regy:0,skewX:0,skewY:0,rotation:0,visible:!0,alpha:1,_off:!1,mask:null,filters:null},writable:!0},_pixiData:{value:x({}),writable:!0}});var w=function(t){function i(i){t.call(this),this._createjs=i}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var e={createjs:{configurable:!0}};return e.createjs.get=function(){return this._createjs},Object.defineProperties(i.prototype,e),i}(i.Container);function b(t){return Object.assign({x:0,y:0,scaleX:0,scaleY:0,regx:0,regy:0,skewX:0,skewY:0,rotation:0,visible:!0,alpha:1,_off:!1,mask:null,filters:null},{graphics:t})}function P(t){var i=new w(t);return Object.assign(r(i.pivot),{instance:i,masked:[]})}var j=window.createjs.Shape,D=function(t){function i(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];t.apply(this,arguments),this._initForPixi(),j.apply(this,arguments)}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var e={graphics:{configurable:!0},pixi:{configurable:!0}};return i.prototype._initForPixi=function(){this._originParams=b(null),this._pixiData=P(this)},e.graphics.get=function(){return this._originParams.graphics},e.graphics.set=function(t){if(this._pixiData.masked.length)if(this._pixiData.instance.removeChildren(),t)for(var i=0;i<this._pixiData.masked.length;i++)this._pixiData.masked[i].mask=this._pixiData.instance;else for(var e=0;e<this._pixiData.masked.length;e++)this._pixiData.masked[e].mask=null;t&&this._pixiData.instance.addChild(t.pixi),this._originParams.graphics=t},e.pixi.get=function(){return this._pixiData.instance},i.prototype.updateForPixi=function(t){return!0},Object.defineProperties(i.prototype,e),i}(window.createjs.Shape);u(D),Object.defineProperties(D.prototype,{_originParams:{value:b(null),writable:!0},_pixiData:{value:P({}),writable:!0}});var k=function(t){function i(i){t.call(this),this._createjs=i}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var e={createjs:{configurable:!0}};return e.createjs.get=function(){return this._createjs},Object.defineProperties(i.prototype,e),i}(i.Sprite);function C(t){var i=new k(t);return Object.assign(r(i.anchor),{instance:i})}var O=window.createjs.Bitmap,F=function(t){function e(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];t.apply(this,arguments),this._initForPixi(),O.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={pixi:{configurable:!0}};return e.prototype._initForPixi=function(){this._originParams={x:0,y:0,scaleX:0,scaleY:0,regx:0,regy:0,skewX:0,skewY:0,rotation:0,visible:!0,alpha:1,_off:!1,mask:null,filters:null},this._pixiData=C(this)},e.prototype.initialize=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];this._originParams={x:0,y:0,scaleX:0,scaleY:0,regx:0,regy:0,skewX:0,skewY:0,rotation:0,visible:!0,alpha:1,_off:!1,mask:null,filters:null},this._pixiData=C(this);var n=t.prototype.initialize.apply(this,arguments),a=i.Texture.from(this.image);return this._pixiData.instance.texture=a,n},r.pixi.get=function(){return this._pixiData.instance},e.prototype.updateForPixi=function(t){return!0},Object.defineProperties(e.prototype,r),e}(window.createjs.Bitmap);u(F),Object.defineProperties(F.prototype,{_originParams:{value:{x:0,y:0,scaleX:0,scaleY:0,regx:0,regy:0,skewX:0,skewY:0,rotation:0,visible:!0,alpha:1,_off:!1,mask:null,filters:null},writable:!0},_pixiData:{value:C({}),writable:!0}});var A=function(t){function i(i){t.call(this),this._createjs=i}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var e={createjs:{configurable:!0}};return e.createjs.get=function(){return this._createjs},Object.defineProperties(i.prototype,e),i}(i.Graphics);function S(t){var i=new A(t);return Object.assign(r(i.pivot),{instance:i,strokeFill:0,strokeAlpha:1})}var T={0:i.LINE_CAP.BUTT,1:i.LINE_CAP.ROUND,2:i.LINE_CAP.SQUARE},X={0:i.LINE_JOIN.MITER,1:i.LINE_JOIN.ROUND,2:i.LINE_JOIN.BEVEL},Y=Math.PI/180,I=window.createjs.Graphics,E=function(t){function i(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];t.apply(this,arguments),this._initForPixi(),I.apply(this,arguments),this._pixiData.instance.beginFill(16772846,1),this._pixiData.strokeFill=0,this._pixiData.strokeAlpha=1}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var e={pixi:{configurable:!0}};return i.prototype._initForPixi=function(){this._originParams={x:0,y:0,scaleX:0,scaleY:0,regx:0,regy:0,skewX:0,skewY:0,rotation:0,visible:!0,alpha:1,_off:!1,mask:null,filters:null},this._pixiData=S(this)},i.prototype.moveTo=function(i,e){return this._pixiData.instance.clone().endFill().containsPoint({x:i,y:e})?this._pixiData.instance.beginHole():this._pixiData.instance.endHole(),this._pixiData.instance.moveTo(i,e),t.prototype.moveTo.call(this,i,e)},i.prototype.lineTo=function(i,e){return this._pixiData.instance.lineTo(i,e),t.prototype.lineTo.call(this,i,e)},i.prototype.arcTo=function(i,e,r,n,a){return this._pixiData.instance.arcTo(i,e,r,n,a),t.prototype.arcTo.call(this,i,e,r,n,a)},i.prototype.arc=function(i,e,r,n,a,o){return this._pixiData.instance.arc(i,e,r,n,a,o),t.prototype.arc.call(this,i,e,r,n,a,o)},i.prototype.quadraticCurveTo=function(i,e,r,n){return this._pixiData.instance.quadraticCurveTo(i,e,r,n),t.prototype.quadraticCurveTo.call(this,i,e,r,n)},i.prototype.bezierCurveTo=function(i,e,r,n,a,o){return this._pixiData.instance.bezierCurveTo(i,e,r,n,a,o),t.prototype.bezierCurveTo.call(this,i,e,r,n,a,o)},i.prototype.rect=function(i,e,r,n){return this._pixiData.instance.drawRect(i,e,r,n),t.prototype.rect.call(this,i,e,r,n)},i.prototype.closePath=function(){return this._pixiData.instance.closePath(),t.prototype.closePath.call(this)},i.prototype.clear=function(){return this._pixiData.instance.clear(),t.prototype.clear.call(this)},i.prototype._parseColor=function(t){var i={color:0,alpha:1};if(!t)return i.alpha=0,i;if("#"===t.charAt(0))return i.color=parseInt(t.slice(1),16),i;var e=t.replace(/rgba|\(|\)|\s/g,"").split(",");return i.color=65536*Number(e[0])+256*Number(e[1])+Number(e[2]),i.alpha=Number(e[3]),i},i.prototype.beginFill=function(i){var e=this._parseColor(i);return this._pixiData.instance.beginFill(e.color,e.alpha),t.prototype.beginFill.call(this,i)},i.prototype.endFill=function(){return this._pixiData.instance.endFill(),t.prototype.endFill.call(this)},i.prototype.setStrokeStyle=function(i,e,r,n,a){return this._pixiData.instance.lineTextureStyle({width:i,color:this._pixiData.strokeFill,alpha:this._pixiData.strokeAlpha,cap:e in T?T[e]:T[0],join:r in X?X[r]:X[0],miterLimit:n}),t.prototype.setStrokeStyle.call(this,i,e,r,n,a)},i.prototype.beginStroke=function(i){var e=this._parseColor(i);return this._pixiData.strokeFill=e.color,this._pixiData.strokeAlpha=e.alpha,t.prototype.beginStroke.call(this,i)},i.prototype.drawRoundRect=function(i,e,r,n,a){return this._pixiData.instance.drawRoundedRect(i,e,r,n,a),t.prototype.drawRoundRect.call(this,i,e,r,n,a)},i.prototype.drawCircle=function(i,e,r){return this._pixiData.instance.drawCircle(i,e,r),t.prototype.drawCircle.call(this,i,e,r)},i.prototype.drawEllipse=function(i,e,r,n){return this._pixiData.instance.drawEllipse(i,e,r,n),t.prototype.drawEllipse.call(this,i,e,r,n)},i.prototype.drawPolyStar=function(i,e,r,n,a,o){return this._pixiData.instance.drawRegularPolygon(i,e,r,n,o*Y),t.prototype.drawPolyStar.call(this,i,e,r,n,a,o)},e.pixi.get=function(){return this._pixiData.instance},i.prototype.updateForPixi=function(t){return!0},Object.defineProperties(i.prototype,e),i}(window.createjs.Graphics);Object.defineProperties(E.prototype,{curveTo:{value:E.prototype.quadraticCurveTo},drawRect:{value:E.prototype.rect},mt:{value:E.prototype.moveTo},lt:{value:E.prototype.lineTo},at:{value:E.prototype.arcTo},bt:{value:E.prototype.bezierCurveTo},qt:{value:E.prototype.quadraticCurveTo},a:{value:E.prototype.arc},r:{value:E.prototype.rect},cp:{value:E.prototype.closePath},c:{value:E.prototype.clear},f:{value:E.prototype.beginFill},ef:{value:E.prototype.endFill},ss:{value:E.prototype.setStrokeStyle},s:{value:E.prototype.beginStroke},dr:{value:E.prototype.drawRect},rr:{value:E.prototype.drawRoundRect},dc:{value:E.prototype.drawCircle},de:{value:E.prototype.drawEllipse},dp:{value:E.prototype.drawPolyStar}}),u(E),Object.defineProperties(E.prototype,{_originParams:{value:{x:0,y:0,scaleX:0,scaleY:0,regx:0,regy:0,skewX:0,skewY:0,rotation:0,visible:!0,alpha:1,_off:!1,mask:null,filters:null},writable:!0},_pixiData:{value:S({}),writable:!0}});var L=function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i}(i.Text),M=function(t){function i(i,e){t.call(this),this._createjs=i,this._text=e}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var e={createjs:{configurable:!0},text:{configurable:!0}};return e.createjs.get=function(){return this._createjs},e.text.get=function(){return this._text},Object.defineProperties(i.prototype,e),i}(i.Container);function z(t,i,e){return Object.assign({x:0,y:0,scaleX:0,scaleY:0,regx:0,regy:0,skewX:0,skewY:0,rotation:0,visible:!0,alpha:1,_off:!1,mask:null,filters:null},{text:t,font:i,color:e,textAlign:"left",lineHeight:0,lineWidth:0})}function N(t,i){var e=new M(t,i);return Object.assign(r(e.pivot),{instance:e})}var R=window.createjs.Text,B=function(t){function i(i,e,r){var n;void 0===r&&(r="#000000");for(var a=[],o=arguments.length-3;o-- >0;)a[o]=arguments[o+3];t.apply(this,[i,e,r].concat(a)),(n=this)._initForPixi.apply(n,[i,e,r].concat(a)),R.call.apply(R,[this,i,e,r].concat(a))}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var e={text:{configurable:!0},font:{configurable:!0},color:{configurable:!0},textAlign:{configurable:!0},lineHeight:{configurable:!0},lineWidth:{configurable:!0},pixi:{configurable:!0}};return i.prototype._initForPixi=function(t,i,e){void 0===e&&(e="#000000");for(var r=[],n=arguments.length-3;n-- >0;)r[n]=arguments[n+3];this._originParams=z(t,i,e);var a=this._parseFont(i),o=new L(t,{fontWeight:a.fontWeight,fontSize:a.fontSize,fontFamily:a.fontFamily,fill:this._parseColor(e),wordWrap:!0});this._pixiData=N(this,o),this._pixiData.instance.addChild(o)},e.text.get=function(){return this._originParams.text},e.text.set=function(t){this._pixiData.instance.text.text=t,this._align(this.textAlign),this._originParams.text=t},i.prototype._parseFont=function(t){var i=t.split(" "),e="normal",r=i.shift();return-1===r.indexOf("px")&&(e=r,r=i.shift()),{fontWeight:e,fontSize:Number((r||"0px").replace("px","")),fontFamily:i.join(" ").replace(/'/g,"")}},e.font.get=function(){return this._originParams.font},e.font.set=function(t){var i=this._parseFont(t);this._pixiData.instance.text.style.fontSize=i.fontSize,this._pixiData.instance.text.style.fontFamily=i.fontFamily,this._originParams.font=t},i.prototype._parseColor=function(t){return parseInt(t.slice(1),16)},e.color.get=function(){return this._originParams.color},e.color.set=function(t){this._pixiData.instance.text.style.fill=this._parseColor(t),this._originParams.color=t},i.prototype._align=function(t){"left"!==t?"center"!==t?"right"!==t||(this._pixiData.instance.text.x=-this._pixiData.instance.text.width):this._pixiData.instance.text.x=-this._pixiData.instance.text.width/2:this._pixiData.instance.text.x=0},e.textAlign.get=function(){return this._originParams.textAlign},e.textAlign.set=function(t){this._pixiData.instance.text.style.align=t,this._align(t),this._originParams.textAlign=t},e.lineHeight.get=function(){return this._originParams.lineHeight},e.lineHeight.set=function(t){this._pixiData.instance.text.style.lineHeight=t,this._originParams.lineHeight=t},e.lineWidth.get=function(){return this._originParams.lineWidth},e.lineWidth.set=function(t){this._pixiData.instance.text.style.wordWrapWidth=t,this._align(this.textAlign),this._originParams.lineWidth=t},e.pixi.get=function(){return this._pixiData.instance},i.prototype.updateForPixi=function(t){return!0},Object.defineProperties(i.prototype,e),i}(window.createjs.Text);u(B),Object.defineProperties(B.prototype,{_originParams:{value:{x:0,y:0,scaleX:0,scaleY:0,regx:0,regy:0,skewX:0,skewY:0,rotation:0,visible:!0,alpha:1,_off:!1,mask:null,filters:null},writable:!0},_pixiData:{value:N({},new L("")),writable:!0}});var H=function(t){function i(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];t.apply(this,arguments);var r=arguments[0],n=r.pixi,a=arguments[1],o=arguments[2],s=arguments[3],p=arguments[5],c=arguments[6];p.gotoAndStop(c);var l=n.addChild(p.pixi);l.alpha=1e-5;var u=!1,h=!1;l.on("pointerover",(function(){u=!0,h?r.gotoAndStop(s):r.gotoAndStop(o)})),l.on("pointerout",(function(){u=!1,h?r.gotoAndStop(o):r.gotoAndStop(a)})),l.on("pointerdown",(function(){h=!0,r.gotoAndStop(s)})),l.on("pointerup",(function(){h=!1,u?r.gotoAndStop(o):r.gotoAndStop(a)})),l.on("pointerupoutside",(function(){h=!1,u?r.gotoAndStop(o):r.gotoAndStop(a)})),l.interactive=!0,l.cursor="pointer"}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i}(window.createjs.ButtonHelper),U=!1;function W(t,i,e){void 0===e&&(e={});var r=window.AdobeAn.getComposition(t);if(!r)throw new Error("no composition");var n=r.getLibrary();return new Promise((function(t,a){0===n.properties.manifest.length&&t({}),i&&(i=(i+"/").replace(/([^\:])\/\//,"$1/"));var o=new window.createjs.LoadQueue(!1,i);if(o.installPlugin(window.createjs.Sound),o.addEventListener("fileload",(function(t){!function(t,i){var e=i.getImages();t&&"image"==t.item.type&&(e[t.item.id]=t.result)}(t,r)})),o.addEventListener("complete",(function(i){t(i)})),e.crossOrigin)for(var s=n.properties.manifest,p=0;p<s.length;p++)s[p].crossOrigin=!0;o.loadManifest(n.properties.manifest)})).then((function(t){for(var i=r.getSpriteSheet(),e=t.target,a=n.ssMetadata,o=0;o<a.length;o++)i[a[o].name]=new window.createjs.SpriteSheet({images:[e.getResult(a[o].name)],frames:a[o].frames});return n}))}var G,q=1e3/60,J=function(t){function i(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];t.apply(this,arguments),this.framerate=this._framerateBase}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.initialize=function(){for(var i=[],e=arguments.length;e--;)i[e]=arguments[e];t.prototype.initialize.apply(this,arguments),this.framerate=this._framerateBase},i.prototype._updateForPixiSynched=function(i){return this.advance(i.delta*q),t.prototype._updateForPixiSynched.call(this,i)},i.prototype._updateForPixiUnsynched=function(i){return t.prototype._updateForPixiUnsynched.call(this,{delta:.2777777777777778*i.delta*this.framerate})},i}(g);!function(t){!function(t){var i=function(t){function i(){t.apply(this,arguments)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.setTickHandler=function(t){this.tick=t?this._tickDelta:this._tickNoDelta},i._tickDelta=function(t){for(var i in this._targets)this._targets[i].updateForPixi({delta:t})},i._tickNoDelta=function(t){for(var i in this._targets)this._targets[i].updateForPixi({delta:1})},i._addMovieClip=function(t){var i=this._id++;return this._targets[i]=t,i},i._removeMovlieClip=function(t){delete this._targets[t]},i.prototype._addCreatejs=function(t){if(t instanceof J){var e=t.pixi.parent;t.pixi.once("added",(function(){t.pixi.parent!==e&&t.gotoAndPlay(0);var r=i._addMovieClip(t);t.pixi.once("removed",(function(){i._removeMovlieClip(r)}))}))}},i.prototype.addCreatejs=function(t){return this._addCreatejs(t),this.addChild(t.pixi),t},i.prototype.addCreatejsAt=function(t,i){return this._addCreatejs(t),this.addChildAt(t.pixi,i),t},i.prototype.removeCreatejs=function(t){return this.removeChild(t.pixi),t},i}(e.Container);i._id=0,i._targets={},i.tick=i._tickDelta,t.Container=i}(t.animate||(t.animate={}))}(G||(G={}));var Q,V=G.animate.Container,$=!1;!function(t){!function(t){var e={},r=function(t){V.tick(t)};i.Application.registerPlugin({init:function(){this.ticker.add(r)},destroy:function(){this.ticker.remove(r)}}),t.init=function(t){return void 0===t&&(t={}),$?(console.warn("[Pixim-animate-container] Already initialized."),this):($=!0,function(t){void 0===t&&(t={}),U||(g.selectUpdateFunc(t.useSynchedTimeline),t.useMotionGuide&&window.createjs.MotionGuidePlugin.install(),U=!0)}(t),V.setTickHandler(!!t.useDeltaTime),this)},t.loadAssetAsync=function(t){if(!$)throw new Error('[Pixim-animate-container] Please execute "Pixim.animate.init" first.');Array.isArray(t)||(t=[t]);for(var i=[],r=0;r<t.length;r++){if(!window.AdobeAn.getComposition(t[r].id))throw new Error("no composition: "+t[r].id)}for(var n=0;n<t.length;n++){var a=t[n],o=a.id+"@"+a.basepath,s=e[o];if(s)i.push(s);else{var p=e[o]=W(a.id,a.basepath,a.options).then((function(t){for(var i in t)t[i].prototype instanceof J&&(t[i].prototype._framerateBase=t.properties.fps);return t}));i.push(p)}}return Promise.all(i).then((function(t){return 1===t.length?t[0]:t}))}}(t.animate||(t.animate={}))}(Q||(Q={}));var K=Q.animate.init,Z=Q.animate.loadAssetAsync;!function(t){for(var i in void 0===t&&(t={}),window.createjs.Stage=a,window.createjs.StageGL=o,window.createjs.MovieClip=g,window.createjs.Sprite=m,window.createjs.Shape=D,window.createjs.Bitmap=F,window.createjs.Graphics=E,window.createjs.Text=B,window.createjs.ButtonHelper=H,t)window.createjs[i]=t[i]}({MovieClip:J}),t.Container=V,t.init=K,t.loadAssetAsync=Z}(this.Pixim.animate=this.Pixim.animate||{},PIXI,Pixim);//# sourceMappingURL=Pixim-animate-container.min.js.map
